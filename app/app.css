@import "tailwindcss";
@import "tw-animate-css";

/* ===============================
   Base CSS Variables (Light Mode Default)
   =============================== */
:root {
    color-scheme: light dark;

    /* Light Mode Colors */
    --color-bg: #F3F6FA;
    --color-panel: #FFFFFF;
    --color-text: #1E2026;
    --color-text-muted: #6E7580;
    --color-ok: #2FA76D;
    --color-warn: #D79C32;
    --color-error: #C74343;
    --color-info: #2F88C2;
    --color-border: #D0D5DD;

    /* Tailwind Standard Variables */
    --color-background: #F3F6FA;
    --color-foreground: #1E2026;
    --color-card: #FFFFFF;
    --color-card-foreground: #1E2026;
    --color-primary: #2F88C2;
    --color-primary-foreground: #FFFFFF;
    --color-accent: #2F88C2;
    --color-accent-foreground: #0B0E14;
    --color-muted: #E4E7EB;
    --color-muted-foreground: #6E7580;

    /* Sidebar Colors Light */
    --color-sidebar: #FFFFFF;
    --color-sidebar-foreground: #1E2026;
    --color-sidebar-primary: #2F88C2;
    --color-sidebar-primary-foreground: #FFFFFF;
    --color-sidebar-accent: #F3F6FA;
    --color-sidebar-accent-foreground: #1E2026;
    --color-sidebar-border: #D0D5DD;
    --color-sidebar-ring: #2F88C2;

    /* Chart Colors */
    --color-chart-1: #2F88C2;
    --color-chart-2: #3CCB7F;
    --color-chart-3: #E6B84D;
    --color-chart-4: #C74343;
    --color-chart-5: #8E64D8;
}

/* ===============================
   Dark Mode (System Preference)
   =============================== */
@media (prefers-color-scheme: dark) {
    :root {
        --color-bg: #0B0E14;
        --color-panel: #141821;
        --color-text: #E2E8F0;
        --color-text-muted: #7B8494;
        --color-ok: #3CCB7F;
        --color-warn: #E6B84D;
        --color-error: #E25555;
        --color-info: #4CA8E0;
        --color-border: #1E2430;

        --color-background: #0B0E14;
        --color-foreground: #E2E8F0;
        --color-card: #141821;
        --color-card-foreground: #E2E8F0;
        --color-primary: #3BA4E8;
        --color-primary-foreground: #0B0E14;
        --color-accent: #2F88C2;
        --color-accent-foreground: #0B0E14;
        --color-muted: #1C212B;
        --color-muted-foreground: #8B93A1;

        --color-sidebar: #141821;
        --color-sidebar-foreground: #E2E8F0;
        --color-sidebar-primary: #3BA4E8;
        --color-sidebar-primary-foreground: #0B0E14;
        --color-sidebar-accent: #1C212B;
        --color-sidebar-accent-foreground: #E2E8F0;
        --color-sidebar-border: #1E2430;
        --color-sidebar-ring: #3BA4E8;

        --color-chart-1: #3BA4E8;
        --color-chart-2: #3CCB7F;
        --color-chart-3: #E6B84D;
        --color-chart-4: #E25555;
        --color-chart-5: #8E64D8;
    }
}

/* ===============================
   Tailwind Theme Registration
   =============================== */
@theme inline {
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;

    /* Register colors for Tailwind utilities */
    --color-bg: var(--color-bg);
    --color-panel: var(--color-panel);
    --color-text: var(--color-text);
    --color-text-muted: var(--color-text-muted);
    --color-ok: var(--color-ok);
    --color-warn: var(--color-warn);
    --color-error: var(--color-error);
    --color-info: var(--color-info);
    --color-border: var(--color-border);

    --color-background: var(--color-background);
    --color-foreground: var(--color-foreground);
    --color-card: var(--color-card);
    --color-card-foreground: var(--color-card-foreground);
    --color-primary: var(--color-primary);
    --color-primary-foreground: var(--color-primary-foreground);
    --color-accent: var(--color-accent);
    --color-accent-foreground: var(--color-accent-foreground);
    --color-muted: var(--color-muted);
    --color-muted-foreground: var(--color-muted-foreground);

    --color-sidebar: var(--color-sidebar);
    --color-sidebar-foreground: var(--color-sidebar-foreground);
    --color-sidebar-primary: var(--color-sidebar-primary);
    --color-sidebar-primary-foreground: var(--color-sidebar-primary-foreground);
    --color-sidebar-accent: var(--color-sidebar-accent);
    --color-sidebar-accent-foreground: var(--color-sidebar-accent-foreground);
    --color-sidebar-border: var(--color-sidebar-border);
    --color-sidebar-ring: var(--color-sidebar-ring);

    --color-chart-1: var(--color-chart-1);
    --color-chart-2: var(--color-chart-2);
    --color-chart-3: var(--color-chart-3);
    --color-chart-4: var(--color-chart-4);
    --color-chart-5: var(--color-chart-5);
}

/* ===============================
   Base Layer
   =============================== */
@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-bg text-text;
    }
}

/* ===============================
   Custom Card Component
   =============================== */
.card {
    @apply bg-panel border border-border text-text rounded-xl transition-all duration-300;
}

.card:hover {
    @apply border-info;
}

/* React Grid Layout Styles */
.react-grid-layout {
    position: relative;
    transition: height 200ms ease;
}

.react-grid-item {
    transition: all 200ms ease;
    transition-property: left, top, width, height;
}

.react-grid-item.resizing {
    transition: none;
    z-index: 100;
}

.react-grid-item.react-draggable-dragging {
    transition: none;
    z-index: 100;
}

.react-grid-item.dropping {
    visibility: hidden;
}

.react-grid-item.react-grid-placeholder {
    background: rgb(59, 130, 246);
    opacity: 0.2;
    transition-duration: 100ms;
    z-index: 2;
    border-radius: 0.5rem;
}

.react-resizable-handle {
    position: absolute;
    width: 20px;
    height: 20px;
}

.react-resizable-handle-se {
    bottom: 0;
    right: 0;
    cursor: se-resize;
}